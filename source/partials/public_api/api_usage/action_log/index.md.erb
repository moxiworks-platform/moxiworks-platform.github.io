#### <span class='entity-name'>ActionLog</span> <span class='action-name'>Index</span>

<div class='highlight ruby'><blockquote><span class='data-example-label'><a href='http://moxiworks-platform.github.io/moxiworks-ruby/MoxiworksPlatform/ActionLog.html#search-class_method'>Ruby <span class='action-name'>Search</span> Docs</a></span></blockquote></div>

<div class='highlight php'><blockquote><span class='data-example-label'><a href='http://moxiworks-platform.github.io/moxiworks-php/classes/MoxiworksPlatform.ActionLog.html#method_search'>PHP <span class='action-name'>Search</span> Docs</a></span></blockquote></div>

<div class='highlight csharp'><blockquote><span class='data-example-label'><a href='https://moxiworks-platform.github.io/moxiworks-dotnet/class_moxi_works_1_1_platform_1_1_action_log_service.html#a917074a99da1c657b0f0cbdc01ba9c43'>.Net <span class='action-name'>ActionLogService.GetActionLogsAsync</span> Docs</a></span></blockquote></div>

<aside class="note">Send a <b>GET</b> request to https://api.moxiworks.com/api/action_logs</aside>


When searching for <span class='entity-name'>ActionLog</span> entities using the MoxiWorks platform API, format your request using the following parameters.


> <span class="data-example-label"><span class='entity-name'>ActionLog </span><span class='action-name'>Index </span> (using <span class='attribute-name'>agent_uuid</span> Request Example</span>

```json
{
  "agent_uuid":"12345678-1234-1234-1234-1234567890ab",
  "partner_contact_id":"mySystemsContactId","
  "date_min": 1569860000,
  "date_max": 1569870000
}

```

```http
GET /api/action_logs?agent_uuid=12345678-1234-1234-1234-1234567890ab&partner_contact_id=mySystemsContactId HTTP/1.1
Host: api.moxiworks.com
Accept: application/vnd.moxi-platform+json;version=1
Authorization: Basic XNNeXAAAUZaQlF0dA==
Content-Type: application/x-www-form-urlencoded

```

```csharp

/* set up prerequisites once */
ConfigurationManager.AppSettings["Secret"] = "secret";
ConfigurationManager.AppSettings["Identifier"] = "abc123";


var agentUuid = "12345678-1234-1234-1234-1234567890ab";

var service = new ActionLogService(new MoxiWorksClient());
var results = service.GetActionLogsAsync(agentUuid, AgentIdType.AgentUuid, "mySystemsContactId").Result;

```

```ruby
##### set up prerequisites once
require 'moxiworks_platform'

platform_identifier = 'abc123'

platform_secret = 'secret'

MoxiworksPlatform::Credentials.new(platform_identifier, platform_secret)
##### end prerequisitesa

moxi_works_action_log_entries = MoxiworksPlatform::ActionLog.search(
        agent_uuid: "12345678-1234-1234-1234-1234567890ab",
        partner_contact_id: "mySystemsContactId")


```

```php
<?php
$platform_identifier = 'abc123'; // platorm_identifier provided by MoxiWorks Platform Rep
$platform_secret = 'secret'; //platform_secret provided by MoxiWorks Platform Rep

$credentials = new MoxiworksPlatform\Credentials($platform_identifier, $platform_secret);

$moxi_works_action_log_entries = MoxiworksPlatform\ActionLog::search([
        'agent_uuid' => '12345678-1234-1234-1234-1234567890ab',
        'partner_contact_id' => 'mySystemsContactId']);

?>
```

> <span class="data-example-label"><span class='entity-name'>ActionLog </span><span class='action-name'>Index </span> (using <span class='attribute-name'>moxi_works_agent_id</span> Request Example</span>

```json
{
  "moxi_works_agent_id":"abc123",
  "partner_contact_id":"mySystemsContactId"
}

```

```http
GET /api/action_logs?moxi_works_agent_id=abc123&partner_contact_id=mySystemsContactId HTTP/1.1
Host: api.moxiworks.com
Accept: application/vnd.moxi-platform+json;version=1
Authorization: Basic XNNeXAAAUZaQlF0dA==
Content-Type: application/x-www-form-urlencoded

```

```csharp

/* set up prerequisites once */
ConfigurationManager.AppSettings["Secret"] = "secret";
ConfigurationManager.AppSettings["Identifier"] = "abc123";


var moxiWorksAgentId = "abcd1234";

var service = new ActionLogService(new MoxiWorksClient());
var results = service.GetActionLogsAsync( moxiWorksAgentId,  AgentIdType.MoxiWorksAgentId,  "mySystemsContactId").Result;

```

```ruby
##### set up prerequisites once
require 'moxiworks_platform'

platform_identifier = 'abc123'

platform_secret = 'secret'

MoxiworksPlatform::Credentials.new(platform_identifier, platform_secret)
##### end prerequisitesa

moxi_works_action_log_entries = MoxiworksPlatform::ActionLog.search(
        moxi_works_agent_id: "1234abcd",
        partner_contact_id: "mySystemsContactId")


```

```php
<?php
$platform_identifier = 'abc123'; // platorm_identifier provided by MoxiWorks Platform Rep
$platform_secret = 'secret'; //platform_secret provided by MoxiWorks Platform Rep

$credentials = new MoxiworksPlatform\Credentials($platform_identifier, $platform_secret);

$moxi_works_action_log_entries = MoxiworksPlatform\ActionLog::search([
        'moxi_works_agent_id' => '1234abcd',
        'partner_contact_id' => 'mySystemsContactId']);

?>
```


##### <span class='entity-name'>ActionLog</span> <span class='action-name'>Index</span> Request Attributes

Attribute | Type | Length Limit |
-----|-----|-----|-----|
|<span class="multi-option-required-data">agent_uuid*</span>|<span class="multi-option-required-data"><span class="data-type">String</span></span>| <span class="multi-option-required-data">255</span>
|<span class="multi-option-required-data">moxi_works_agent_id*</span>|<span class="multi-option-required-data"><span class="data-type">String</span></span>| <span class="multi-option-required-data">255</span>
|<span class="multi-option-required-data">source_agent_id*</span>|<span class="multi-option-required-data"><span class="data-type">String</span></span>| <span class="multi-option-required-data">255</span>
|<span class="required-data">moxi_works_contact_id †</span>|<span class="required-data"><span class="data-type">String</span></span>| <span class="required-data">255</span>
|<span class="required-data">partner_contact_id †</span>|<span class="required-data"><span class="data-type">String</span></span>| <span class="required-data">255</span>
|<span class="optional-data">moxi_works_company_id</span>|<span class="data-type">String</span>|  |
|<span class="optional-data">parent_company_id</span>|<span class="data-type">String</span>| 255 |
|<span class="optional-data">date_min</span>|<span class="data-type">Integer</span>| 255 |
|<span class="optional-data">date_max</span>|<span class="data-type">Integer</span>| 255 |

<span class="required-data">**Required Parameters Are In Red**</span>

<span class="multi-option-required-data"> † Either <span class='attribute-name'>moxi_works_contact_id</span> or <span class='attribute-name'>partner_contact_id</span> must be supplied.</span>

<span class="request-data-head multi-option-required-data"><span class='attribute-name'>moxi_works_agent_id</span> or <span class='attribute-name'>agent_uuid</span> or <span class='attribute-name'>source_agent_id</span></span>
<span class="request-data-remarks">**One of these parameters must be supplied** Please reference [Agent Identifiers](#agent-identifiers) for information about how to construct your agent identifier request params.</span>

<span class="request-data-head">moxi_works_company_id</span>
<span class="request-data-remarks">A valid MoxiWorks <span class='entity-name'>Company</span> ID. Use [Company Endpoint](#company) to determine what <span class='attribute-name'>moxi_works_company_id</span> you can use.</span>

<span class="request-data-head">parent_company_id</span>
<span class="request-data-remarks">This is the <span class='attribute-name'>numeric_id</span> or <span class='attribute-name'>moxi_works_company_id</span> of a company that is considered to be a parent company in the MoxiWorks Platform. This request attribute has two functions:<br><br>	**1.** It provides for a broad scope by which partners may be afforded permissions to perform MoxiWorks Platform actions, in scenarios where a partner does business with a parent company in the MoxiWorks System.<br>	**2.** It provides broad scope under which agents may be looked up using the <span class='attribute-name'>source_agent_id</span> request attribute in many scenarios across different MoxiWorks Platform endpoints and actions.<br><br>	**Please note** that this attribute cannot be used as a replacement for the <span class='attribute-name'>moxi_works_company_id</span> request attribute in scenarios where the <span class='attribute-name'>moxi_works_company_id</span> request attribute is required by the action.<br><br>	**Please note** that this attribute cannot be used to broaden scope of any request where the scope of the request is defined by the <span class='attribute-name'>moxi_works_company_id</span> request attribute.<br><br>	**Please note** that when passed in conjunction with the <span class='attribute-name'>moxi_works_company_id</span> request attribute, the value of <span class='attribute-name'>moxi_works_company_id</span> request attribute must be the numeric id form.<br><br>	Any use of this request attribute must be coordinated with MoxiWorks Platform Partner services. Please reach out to partner services for more information.</span>

<span class="request-data-head">moxi_works_contact_id</span>
<span class="request-data-remarks">This is the MoxiWorks Platform ID of the <span class='entity-name'>Contact</span> which the <span class='entity-name'>ActionLog</span> objects are associated with. This will be an [RFC 4122](https://tools.ietf.org/html/rfc4122) compliant UUID. This data is required and must reference a valid MoxiWorks <span class='entity-name'>Contact</span> ID for your <span class='entity-name'>ActionLog</span> <span class='action-name'>Index</span>  request to be accepted. This is the same as the <span class='attribute-name'>moxi_works_contact_id</span> attribute of the  <span class='entity-name'>Contact</span> response.</span>

<span class="request-data-head">partner_contact_id</span>
<span class="request-data-remarks">This is the unique identifer you use in your system that has been associated with the <span class='entity-name'>Contact</span> that you are creating an <span class='entity-name'>ActionLog</span> entry about. You should have already created the <span class='entity-name'>Contact</span> record on the MoxiWorks Platform using [Contact Create](/#contact-create) before attempting to use your system's contact ID to show <span class='entity-name'>ActionLog</span> entries for the <span class='entity-name'>Contact</span>. Your request will be rejected if the <span class='entity-name'>Contact</span> record does not exist.</span>

<span class="request-data-head">date_min</span>
<span class="request-data-remarks">Only <span class='entity-name'>ActionLog</span> records created later than this Unix timestamp will be included in the query. The upper bound of the time slice will be the 90 days higher than <span class='attribute-name'>date_min</span> value or the value of the the <span class='attribute-name'>date_max</span>; whichever is lower. If no timestamps are provided, ActionLogs from the last 90 days will be retrieved.</span>

<span class="request-data-head">date_max</span>
<span class="request-data-remarks">Only <span class='entity-name'>ActionLog</span> records created earlier than this Unix timestamp will be included in the query. Should be no higher than 90 days past the <span class='attribute-name'>date_min</span> attribute if it is provided.</span>

<aside class="note">The maximum timeframe for data is 90 days. <span class='attribute-name'>date_min</span> and <span class='attribute-name'>date_max</span> should be set in 90 day increments to retrieve the data from a specific historical point</aside>

##### <span class='entity-name'>ActionLog</span> <span class='action-name'>Index</span> Response Payload
The following attributes make up the payload of the <span class='entity-name'>ActionLog</span> response for a <span class='action-name'>Index</span> request.

<blockquote><div class='highlight json' style="display: block">
<span class='data-example-label'><span class='entity-name'>ActionLog</span> <span class='action-name'>Index</span> (using <span class='attribute-name'>agent_uuid</span>)  Response Payload Example
</span></div></blockquote>

```json

{
  "agent_uuid": "1234abcd",
  "partner_contact_id": "11111abe",
  "actions": [
  {
    "moxi_works_action_log_id": "02b918",
    "type": "lead_update_api",
    "log_data": {
      "source": "datplace",
      "timestamp": "1465937163",
      "user_info": {
        "property_info":{},
        "search_criteria":{},
        "contact":{
          "first_name":null,
          "message":"",
          "source":"datplace"
        }
      }
    }
  }
  {
    "moxi_works_action_log_id": "bded1806-3271-11e6-9bb3-5254000f954a",
    "type": "lead_update_api",
    "log_data": {
      "source": "foo.what",
      "timestamp": "1465937477",
      "user_info": {
        "property_info":{
          "PropertyURL":"www.wat.com",
          "MLSNumber":"",
          "StreetAddress":"",
          "City":"",
          "State":"",
          "Zip":"",
          "Beds":"",
          "Baths":"",
          "ListingPrice":"",
          "ListingStatus":"",
          "PhotoURL":""
        },
        "search_criteria":{},
        "contact":{
          "first_name":null,
          "message":"",
          "source":"foo.what"
        }
      }
    }
  }
  ]
}
```

<blockquote><div class='highlight json' style="display: block">
<span class='data-example-label'><span class='entity-name'>ActionLog</span> <span class='action-name'>Index</span> Response Payload Example  (using <span class='attribute-name'>moxi_works_agent_id</span>)
</span></div></blockquote>

```json

{
  "moxi_works_agent_id": "1234abcd",
  "partner_contact_id": "11111abe",
  "actions": [
  {
    "moxi_works_action_log_id": "02b918",
    "type": "lead_update_api",
    "log_data": {
      "source": "datplace",
      "timestamp": "1465937163",
      "user_info": {
        "property_info":{},
        "search_criteria":{},
        "contact":{
          "first_name":null,
          "message":"",
          "source":"datplace"
        }
      }
    }
  }
  {
    "moxi_works_action_log_id": "bded1806-3271-11e6-9bb3-5254000f954a",
    "type": "lead_update_api",
    "log_data": {
      "source": "foo.what",
      "timestamp": "1465937477",
      "user_info": {
        "property_info":{
          "PropertyURL":"www.wat.com",
          "MLSNumber":"",
          "StreetAddress":"",
          "City":"",
          "State":"",
          "Zip":"",
          "Beds":"",
          "Baths":"",
          "ListingPrice":"",
          "ListingStatus":"",
          "PhotoURL":""
        },
        "search_criteria":{},
        "contact":{
          "first_name":null,
          "message":"",
          "source":"foo.what"
        }
      }
    }
  }
  ]
}
```



<blockquote><div class='highlight json' style="display: block">
<span class="data-example-label"><span class='entity-name'>ActionLog</span>  <span class='action-name'>Index</span> Failure Response</span>
</div> See <a href='#error-handling'>Error Handling</a> for details about individual error codes.</blockquote>

```json

{
  "status":"fail",
  "errorCode": xxx,
  "messages": ["messages"]
}

```

###### <span class='action-name'>Index</span> Response Attributes

Attribute | Type |
-----|-----|-----|-----|
|<span class="multi-option-response-data">agent_uuid*</span>|<span class="data-type">String</span>| |
|<span class="multi-option-response-data">moxi_works_agent_id*</span>|<span class="data-type">String</span>| |
|<span class="response-data">moxi_works_contact_id †</span>|<span class="data-type">String</span>| |
|<span class="response-data">partner_contact_id †</span>|<span class="data-type">String</span>|
|<span class="response-data">actions</span>|<span class="data-type">Array</span>

<span class='multi-option-response-data'> * Either <span class='attribute-name'>agent_uuid</span> or <span class='attribute-name'>moxi_works_agent_id</span> will be returned depending on whether it is used in the request. The response payload object's agent identifier key will match the passed parameter.</span>


<span class='multi-option-response-data'> † Either <span class='attribute-name'>moxi_works_contact_id</span> or <span class='attribute-name'>partner_contact_id</span> will be returned depending on whether it is used in the request. The response payload object's agent identifier key will match the passed parameter.</span>


<span class="response-data-head">agent_uuid</span>
<span class="response-data-remarks">This is the MoxiWorks Platform ID of the <span class='entity-name'>Agent</span> which an <span class='entity-name'>ActionLog</span> entry is associated with. This will be an [RFC 4122](https://tools.ietf.org/html/rfc4122) compliant UUID.</span>

<span class="response-data-head">moxi_works_agent_id</span>
<span class="response-data-remarks">This is the MoxiWorks Platform ID of the <span class='entity-name'>Agent</span> which an action log entry is associated with. This will be a string that may take the form of an email address, or a unique alphanumeric identification string.</span>


<span class="response-data-head">moxi_works_contact_id</span>
<span class="response-data-remarks">This is the MoxiWorks Platform ID of this <span class='entity-name'>Contact</span> that this <span class='entity-name'>ActionLog</span> entry is about. This will be an [RFC 4122](https://tools.ietf.org/html/rfc4122) compliant UUID.</span>


<span class="response-data-head">partner_contact_id</span>
<span class="response-data-remarks">This is the unique identifer you use in your system that has been associated with the <span class='entity-name'>Contact</span> that this <span class='entity-name'>ActionLog</span> entry is about.</span>

<span class="response-data-head">actions</span>
<span class="response-data-remarks">This is an Array containing any <span class='entity-name'>ActionLog</span> entries found for the <span class='action-name'>Index</span> request.</span>



###### <span class='attribute-name'>actions</span> Object

The <span class='attribute-name'>actions</span> array contains Dictionary objects representing <span class='entity-name'>ActionLog</span> entries. The structure of each <span class='entity-name'>ActionLog</span> entry is shown below.

Attribute | Type |
-----|-----|-----|-----|
|<span class="response-data">moxi_works_action_log_id</span>|<span class="data-type">String</span>|
|<span class="response-data">type</span>|<span class="data-type">String</span>|
|<span class="response-data">timestamp</span>|<span class="data-type">Integer</span>|
|<span class="response-data">log_data</span>|<span class="data-type">Dictionary</span>|


<span class="response-data-head">moxi_works_action_log_id</span>
<span class="response-data-remarks">This is the unique identifier for the MoxiWorks Platform <span class='entity-name'>ActionLog</span> entry.</span>

<span class="response-data-head">type</span>
<span class="response-data-remarks">This is a string from an enumerated set representing the  type of <span class='entity-name'>ActionLog</span> entry this is. The string should be formatted in lowercase with an underscore between each word. Individual <span class='entity-name'>ActionLog</span> types are outside the scope of this document.</span>

<span class="response-data-head">timestamp</span>
<span class="response-data-remarks">This is the Unix timestamp for the creation time of the <span class='entity-name'>ActionLog</span> entry.</span>

<span class="response-data-head">log_data</span>
<span class="response-data-remarks">This is the payload data of the <span class='entity-name'>ActionLog</span> entry. The structure returned is dependent on the kind of <span class='entity-name'>ActionLog</span> entry this is. Use the <span class='attribute-name'>type</span> attribute to determine what the structure of the <span class='entity-name'>ActionLog</span> entry is and how to handle it. Details of various structures contained in <span class='entity-name'>ActionLog</span> <span class='attribute-name'>log_data</span>  is outside the scope of this documentation.</span></span>
